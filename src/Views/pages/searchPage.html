<style>
    /* --- STILE PER I FILTRI --- */
    
    /* Box scrollabile per gli Accordi (Checkbox) */
    .scroll-box {
        width: 100%;
        height: 150px; /* Altezza fissa */
        overflow-y: auto; /* Abilita scroll verticale */
        background: rgba(255, 255, 255, 0.9);
        border: 2px solid rgba(0,0,0, 0.1);
        border-radius: 8px;
        padding: 10px;
        
        /* Griglia automatica: crea colonne in base allo spazio */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); 
        gap: 8px;
    }

    /* Stile singolo Checkbox */
    .checkbox-item label {
        display: flex;
        align-items: center;
        gap: 5px;
        cursor: pointer;
        font-size: 0.9rem;
        user-select: none;
        color: #333;
        font-weight: 500;
    }
    
    .checkbox-item input[type="checkbox"] {
        accent-color: var(--wood-accent); /* Colora la spunta di arancione */
        width: 16px;
        height: 16px;
    }

    /* --- STILE PER LE LINGUE (Radio) --- */
    .radio-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 5px;
    }

    .radio-item label {
        display: flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        font-weight: 500;
        background: rgba(255, 255, 255, 0.6); /* Sfondo semitrasparente */
        padding: 6px 12px;
        border-radius: 20px;
        transition: 0.2s;
        border: 1px solid transparent;
        color: var(--layout-text-color-accent); /* O un colore scuro */
    }

    .radio-item label:hover {
        background: rgba(255, 255, 255, 1);
        border-color: var(--wood-accent);
    }

    .radio-item input[type="radio"] {
        accent-color: var(--wood-accent);
    }

    /* Utilità generali */
    .filters-container {
        margin-top: 20px;
        animation: fadeIn 0.4s ease;
    }
    
    .filter-section {
        margin-bottom: 20px;
    }

    .filter-title {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        font-size: 1rem;
        color: white; /* O var(--layout-text-color) */
        text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .btn-filter {
        width: 100%;
        padding: 10px;
        background-color: var(--wood-accent);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 1rem;
        text-transform: uppercase;
        transition: background 0.3s;
    }

    .btn-filter:hover {
        background-color: #d68a44; /* Un po' più scuro */
    }
    
    /* Nasconde filtri */
    .hidden { display: none !important; }
</style>

<div class="search-page-container">
  <header class="search-hero">
    <h1 class="page-title">Esplora il Catalogo</h1>

    <form action="/search" method="GET" class="search-input-wrapper">
      <input type="text" name="query" class="search-bar-large" placeholder="Cerca canzone, artista..."
        value="##SEARCH_VALUE##" autocomplete="off" />
      <input type="hidden" name="tab" value="##TAB_CORRENTE##">
      <button type="submit" class="btn-search-icon">
        <img src="/img/icone/search.png" alt="search" />
      </button>
    </form>

    <nav class="telegram-tabs">
      <a href="/search?query=##SEARCH_VALUE##&tab=canzoni" class="tab-link ##ACTIVE_CANZONI##">
        Canzoni
      </a>

      <a href="/search?query=##SEARCH_VALUE##&tab=artisti" class="tab-link ##ACTIVE_ARTISTI##">
        Artisti
      </a>
    </nav>

    <div class="filters-container ##VISIBILITY_FILTRI##">
      <form action="/search" method="GET" class="filters-bar-vertical">
        <input type="hidden" name="query" value="##SEARCH_VALUE##">
        <input type="hidden" name="tab" value="canzoni">

        <div class="filter-section">
            <span class="filter-title">Lingua:</span>
            <div class="radio-group">
                <div class="radio-item">
                    <label>
                        <input type="radio" name="lingua" value="" checked> 
                        Tutte
                    </label>
                </div>
                ##OPTIONS_LINGUA##
            </div>
        </div>

        <div class="filter-section">
            <span class="filter-title">Accordi (Seleziona quelli che conosci):</span>
            <div class="scroll-box">
                ##OPTIONS_ACCORDI##
            </div>
        </div>

        <button type="submit" class="btn-filter">Applica Filtri</button>
      </form>
    </div>

  </header>

  <div class="results-container">
    <div class="results-message">##MESSAGGIO_RISULTATI##</div>
    <hr class="separator" />
    <div class="carosello-wrapper">
      <ul class="carosello-scroll" aria-label="Risultati">
        ##LISTA_RISULTATI##
      </ul>
    </div>
  </div>
</div>